# node-pgp-search

Search for a PGP key by email address using SKS Key Servers

## Install

    npm install node-pgp-search

## Usage

```js
const pgpsearch = require('node-pgp-search');
```

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

-   [keyServers](#keyservers)
-   [index](#index)
    -   [Parameters](#parameters)
    -   [Examples](#examples)
-   [get](#get)
    -   [Parameters](#parameters-1)
    -   [Examples](#examples-1)
-   [Key](#key)
    -   [Properties](#properties)

### keyServers

Pool of key servers that accept the self signed CA certificate
and that are up to date with the latest 1.1.5 version.

### index

Get list of keys for given search query

#### Parameters

-   `search` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** email, key id or fingerprint
-   `options` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?**  (optional, default `{}`)
    -   `options.exactMatch` **[Boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** force exact match (optional, default `false`)

#### Examples

```javascript
const keys = await pgpsearch.index('xdamman@gmail.com');
//=>
[{
  fingerprint: '44A7D05FF1F6D0B80F7915A614261B13FD430CDC',
  bits: 4096,
  date: '2014-02-25T22:01:07.000Z',
  flags: null
}]
```

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Key](#key)>>** retrived keys

### get

Get the PGP key for given search query

#### Parameters

-   `search` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** email, key id, or fingerprint

#### Examples

```javascript
const pgp = await pgpsearch.get('0x44A7D05FF1F6D0B80F7915A614261B13FD430CDC');
//=>
`-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: SKS 1.1.6+
Comment: Hostname: pgp.key-server.io

mQINBFMNEqMBEACYhMtXUVtmTMwz77Gf5/FUYSnFW22MBAo0ExwCUAi6xXIJHtVcVml//44D
3mbAeaUPejiaS7DBXlomlxroCq2a1+qfqI0lVX+KNzUhDYjjcUsT7N6cMNLxBkaA5YOkrkZSâ€¦`
```

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)>** armor

### Key

Type: [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)

#### Properties

-   `fingerprint` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** fingerprint
-   `bits` **[Number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** key size
-   `date` **[Date](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date)** creation date
-   `flags` **([String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) | null)** optional key flags

## Tests

    npm run test
